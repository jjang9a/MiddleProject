<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="co.start.mapper.BoardMapper">
<!-- 가애 -->
<select id="travelListWithPaging" resultType="BoardVO" parameterType="int">
  <![CDATA[
	 select b_id, user_id, b_title, b_writedate, b_count
	 from (select rownum rn, b_id, user_id, b_title, b_writedate, b_count
	      from (select b_id, user_id, b_title, b_writedate, b_count
	            from board
	            where b_category = 'TR'
	            order by b_id desc) a
	      where rownum <= (#{page} * 10) ) b
	 where b.rn > (#{page} - 1) * 10
	]]>
</select>

<select id="getTotalCount" resultType="int">
	select count(*) from board
	where b_category = 'TR' or b_category = 'tr' 
	group by b_category
</select>

<!-- 순덕 -->
<select id="noitceList" resultType="co.start.vo.BoardVO">
	select * from board
	where b_category='NO'
</select>


<!-- 용억 -->
<select id="mateList" resultType="co.start.vo.BoardVO">
 select * from board where b_category='WI'
 </select>

<select id="selectMate" resultType="co.start.vo.BoardVO" parameterType="co.start.vo.BoardVO">
	select * from board where b_title = #{bTitle}
</select>

<insert id="insertMate" parameterType="co.start.vo.BoardVO">
	insert into board (b_id, b_title,user_id,b_contents,b_category,b_writedate ) 
	values(board_seq.nextval,#{bTitle},#{userId},#{bContents}, 'WI',sysdate)
</insert>

<update id="updateMate" parameterType="co.start.vo.BoardVO" >
	update board set b_title = #{bTitle}, b_contents= #{bContents} where b_id = #{bId}
</update>


<!-- 대준 -->


<select id="scManagerList" resultType="co.start.vo.BoardVO">
	select * from board where b_category='CU'
</select>

 


</mapper>